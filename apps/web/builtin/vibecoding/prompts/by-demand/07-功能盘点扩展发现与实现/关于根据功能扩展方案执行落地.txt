# 根据功能扩展方案执行落地（仅执行版）

【输入】
- analysis_report_path：扩展分析报告路径（或直接扩展项与执行计划）。
- scope：允许改动目录/模块。
- acceptance_criteria：如 Top1 完整落地、Top2 最小可用、关键路径回归通过。
- constraints：不可改动项（公共 API/数据库结构/工具链）、时间预算、是否允许重构/新依赖/补测试。

【需要完成的功能】
- 基于功能扩展分析报告执行开发，完成扩展并确保现有能力不回退。

【注意事项】
- 通用执行基线（必须）：先确认目标与验收（≤3 行）→扫描仓库事实→3-7 步执行（每步含影响面/验证/回滚）→回填证据；最多追问 3 个阻塞问题；每条 `acceptance_criteria` 必须映射证据；至少 1 条失败路径验证；按【输出】原样输出。
- 仅执行落地，不重复全面扩展分析；新机会写入风险补充。
- 优先高收益低风险，先交付最小可用，再做体验完善。
- 开发阶段允许激进优化（重构/删旧逻辑/接口调整），但必须写清影响面与迁移方式。
- 能跑就跑 test/lint/build/typecheck/smoke 并留痕；不能跑给阻塞原因与最小手工回归。

【输出】
- 输入确认结果（报告来源、纳入扩展项、验收口径）。
- 执行计划（3-7 步，每步含影响面/验证/回滚点）。
- 变更清单（按文件：改动内容/原因/对应扩展项）。
- 验证命令与结果摘要（失败项单列）。
- 风险补充（未完成项/原因/下一步）。
- 回归清单（关键用户路径/关键接口/关键状态）。
- 验收映射表（acceptance_criteria → 改动点 → 验证证据）。
- 机器可读摘要（JSON）：{"status":"success|partial|blocked","scope":[],"changed_files":[],"verification":[],"unresolved":[],"next_actions":[]}。
